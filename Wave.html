<html>
<head>
  <script src="js/p5.js"></script>
  <script type="text/javascript">
    function setup() {
      createCanvas(512, 512);
    }

    function draw() {
      background(0);
      stroke(255);
      strokeWeight(2);
      calcWave();

    }






    var xspacing = 1;

    var h =30;
    var i =1;

    var theta = 0.0;
    var amp = 10.0;
    var period = 25.0;

    var width = 512;
    var height = 512; 


    var TWO_PI = Math.PI * 2

    var w = width+xspacing; 
    var dx = (TWO_PI / period) * xspacing; 
    var yvalue = new Array(w/xspacing); 
    console.log(typeof yvalue);


    function drawWave() {
      stroke(255);
      strokeWeight(1);
      calcWave();
    }

    function calcWave() {
      theta += 0.3;
      var x = theta;

      for (i = 1; i < yvalue.length; i++) {

        var sq = sqrt(width*width+height*height);

        var d1 = (map(dist(mouseX, mouseY, h, 0), 0, sq, 0, 10));
        ;
        var d2 = (map(abs(mouseY-h), 0, sq, 0, 10)   );
        var d3 = (map(dist(mouseX, mouseY, 0, h), 0, sq, 0, 10));

        var add = sin(x)+sin(x/d1)+sin(x/d2)+sin(x/d3);

        yvalue(i) = add*amp*0.5;

        x = x + dx;
        line(i*xspacing, yvalue(i)+h, (i-1)*xspacing, yvalue(i-1)+h);
        // prvar(yvalue[i]);
      }
    }


  </script>
</head>
<body>

</body>
</html>




